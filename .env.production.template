# ===========================================
# TENDERLERT PLATFORM - PRODUCTION ENVIRONMENT
# ===========================================
# Copy this file to .env.production and fill in your values
# NEVER commit .env.production to Git!

# ============================================
# DATABASE CONFIGURATION
# ============================================
# PostgreSQL connection string (Vercel Postgres or Neon)
# Format: postgresql://user:password@host:5432/database?sslmode=require
DATABASE_URL=postgresql://your_user:your_password@your_host:5432/tenderlert?sslmode=require

# ============================================
# AUTHENTICATION & SECURITY
# ============================================
# JWT Secret Key (MUST be 32+ characters, random string)
# Generate with: openssl rand -base64 32
# Or use: https://generate-secret.vercel.app/32
JWT_SECRET=your_super_secret_random_key_minimum_32_characters_long_here

# ============================================
# GOOGLE OAUTH CONFIGURATION
# ============================================
# Get these from: https://console.cloud.google.com/apis/credentials
# 1. Create OAuth 2.0 Client ID
# 2. Add authorized redirect URI: https://tenderlert.vercel.app/api/auth/google/callback
# 3. Copy Client ID and Secret below

GOOGLE_CLIENT_ID=123456789-abcdefghijklmnopqrstuvwxyz.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=GOCSPX-your_google_client_secret_here

# OAuth Redirect URI (MUST match Google Console configuration EXACTLY)
GOOGLE_REDIRECT_URI=https://tenderlert.vercel.app/api/auth/google/callback

# ============================================
# FRONTEND CONFIGURATION
# ============================================
# Frontend base URL (used for OAuth redirects after successful login)
FRONTEND_URL=https://tenderlert.vercel.app

# ============================================
# OPTIONAL: ADDITIONAL SERVICES
# ============================================
# Uncomment and configure if using these services

# N8N Webhooks (for automation workflows)
# N8N_REGISTER_WEBHOOK=https://your-n8n-instance.com/webhook/register
# N8N_CONTACT_WEBHOOK=https://your-n8n-instance.com/webhook/contact

# AI Categorization Service (GROQ API)
# GROQ_API_KEY=your_groq_api_key_here

# ============================================
# DEPLOYMENT INSTRUCTIONS
# ============================================
# 
# FOR VERCEL DEPLOYMENT:
# 1. Go to Vercel Dashboard → Your Project → Settings → Environment Variables
# 2. Add each variable above (except optional ones unless you use them)
# 3. Set for: Production, Preview, and Development environments
# 4. Click "Save"
# 5. Redeploy if needed
#
# FOR LOCAL DEVELOPMENT:
# 1. Copy this file to .env.production
# 2. Fill in your local values (use localhost for FRONTEND_URL)
# 3. Run: npm run dev
#
# ============================================
# SECURITY NOTES
# ============================================
# 
# ✅ DO:
# - Keep JWT_SECRET secure and random (32+ characters)
# - Use different secrets for dev/staging/production
# - Rotate secrets periodically
# - Use environment-specific URLs
# - Enable SSL/TLS for database connections
#
# ❌ DON'T:
# - Commit .env.production to Git
# - Share secrets in plain text
# - Use weak or predictable secrets
# - Reuse secrets across projects
# - Expose secrets in client-side code
#
# ============================================
# VERIFICATION CHECKLIST
# ============================================
#
# Before deploying, verify:
# [ ] DATABASE_URL is correct and accessible
# [ ] JWT_SECRET is 32+ characters and random
# [ ] GOOGLE_CLIENT_ID matches Google Console
# [ ] GOOGLE_CLIENT_SECRET matches Google Console
# [ ] GOOGLE_REDIRECT_URI matches EXACTLY in Google Console
# [ ] FRONTEND_URL matches your actual domain
# [ ] All variables are set in Vercel Dashboard
# [ ] Database migration has been run: npm run db:push
#
# ============================================
# TROUBLESHOOTING
# ============================================
#
# If OAuth fails:
# 1. Check GOOGLE_REDIRECT_URI matches Google Console exactly
# 2. Verify Client ID and Secret are correct
# 3. Ensure redirect URI is added to authorized list in Google Console
# 4. Check Vercel function logs for errors
#
# If database connection fails:
# 1. Verify DATABASE_URL format is correct
# 2. Check database is accessible from Vercel
# 3. Ensure SSL mode is enabled if required
# 4. Test connection locally first
#
# If JWT errors occur:
# 1. Verify JWT_SECRET is set in Vercel
# 2. Ensure secret is same across all environments
# 3. Check token expiration settings
#
# ============================================
# SUPPORT
# ============================================
#
# Documentation: See COMPLETE_REPAIR_DEPLOYMENT.md
# Quick Start: See QUICK_DEPLOY.md
# OAuth Guide: See GOOGLE_OAUTH_GUIDE.md
#
